var CGRCode=function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e){e.Encoder=class{constructor(t=null){this.URL_SHORTENER=t||"https://cgrco.de/",this.numericTable={none:"00",0:"01",1:"02",2:"03",3:"10",4:"11",5:"12",6:"13",7:"20",8:"21",9:"22","+":"23","-":"30",".":"31","/":"32",_:"33"},this.alphaNumericTable={0:"000",1:"001",2:"002",3:"003",4:"010",5:"011",6:"012",7:"013",".":"020",8:"021",9:"022",a:"023",b:"030",c:"031",d:"032",e:"033",f:"100",g:"101",h:"102",i:"103",j:"110",k:"111",l:"112",m:"113",n:"120",o:"121",p:"122",q:"123",r:"130",s:"131",t:"132",u:"133",v:"200",w:"201",x:"202",y:"203",z:"210",A:"211",B:"212",C:"213",D:"220",E:"221",F:"222",G:"223",H:"230",I:"231",J:"232",K:"233",L:"300",M:"301",N:"302",O:"303",P:"310",Q:"311",R:"312",S:"313",T:"320",U:"321",V:"322",W:"323",X:"330",Y:"331",Z:"332","/":"333"}}setUrlShortener(t){this.URL_SHORTENER=t}encode(t){let{type:e,parsedData:i}=this._getCodeType(t);const s=this._getTextKind(i);return"4"+e+s+this._textToNumber(i,s)}_getCodeType(t){return t.toLowerCase().startsWith(this.URL_SHORTENER)?{type:"3",parsedData:t.substr(this.URL_SHORTENER.length)}:t.toLowerCase().startsWith("http://")?{type:"1",parsedData:t.substr(7)}:t.toLowerCase().startsWith("https://")?{type:"2",parsedData:t.substr(8)}:{type:"0",parsedData:t}}_getTextKind(t){return t.match(/^[0-9]+$/g)?"0":t.match(/^[0-9a-zA-Z\.\/]+$/g)?"1":/[^\u0000-\u00ff]/.test(t)?"3":"2"}_textToNumber(t,e){let i="";if(t=this._pad(t,e),"0"===e)for(let e of t)i+=this.numericTable[e];else{if("1"!==e)return t.split("").map(t=>"00".concat(t.charCodeAt(0).toString(4)).slice(-6)).join("");for(let e of t)i+=this.alphaNumericTable[e]}return i}_pad(t,e){let i="";return(i="0"===e?"000000000000000":"1"===e?"..........":"....").substr(0,i.length-t.length)+t}}},function(t,e,i){const{CGRCode:s}=i(2),{Encoder:o}=i(0);t.exports=s},function(t,e,i){const{Encoder:s}=i(0);e.CGRCode=class{constructor({text:t="",height:e=300,color:i="#000000",backgroundColor:s="#FFFFFF",marginX:o=50,marginY:h=50,rotation:n=0,shape:r="circle",symbols:l="triangles",symbolWidth:c=4,symbolHeight:a=null,symbolMargin:g=null,image:m,imageXMargin:u=0,imageYMargin:x=0,imageHeight:d=100,imageWidth:b=100,imageRotation:y=0,style:_="",urlShortener:f=null}){this.text=t,this.height=e,this.color=i,this.backgroundColor=s,this.marginX=o,this.marginY=h,this.rotation=n,this.shape=r,this.symbols=l,this.symbolWidth=c,this.symbolHeight=a,this.symbolMargin=g,this.image=m,this.imageXMargin=u,this.imageYMargin=x,this.imageHeight=d,this.imageWidth=b,this.imageRotation=y,this.style=_,this.urlShortener=f}_textToNumber(t){return new s(this.urlShortener).encode(t)}generate(t){const e=document.createElement("canvas");if(e.id="cgrcode",e.width=2*this.height,e.height=2*this.height,e.style.position="absolute",e.style=this.style,this.canvas=e,this.context=e.getContext("2d"),this.context.scale(2,2),this.context.clearRect(0,0,this.height,this.height),this.context.fillStyle=this.backgroundColor,this.context.fillRect(0,0,e.width,e.height),this.context.lineWidth=this.symbolWidth,this.image){var i=new Image;i.onload=()=>{this.context.save(),this.context.translate(this.imageXMargin+this.imageWidth/2,this.imageYMargin+this.imageHeight/2),this.context.rotate(this.imageRotation*Math.PI/180),this.context.drawImage(i,-this.imageWidth/2,-this.imageHeight/2,this.imageWidth,this.imageHeight),this.context.restore(),this.context.save(),this.context.translate(this.height/2,this.height/2),this.context.rotate(this.rotation*Math.PI/180),this._drawCode(t,e),this.context.restore()},i.crossOrigin="Anonymous",i.src=this.image}else this._drawCode(t,e)}save(){var t=this.canvas.toDataURL("image/png");window.open(t)}_drawCode(t,e){const i=document.getElementById(t);i.innerHTML="",i.appendChild(e);let s=this._textToNumber(this.text);switch(this.shape){case"square":this._outlineSquare(s);break;case"circle":this._outlineCircle(s);break;case"triangle":this._outlineTriangle(s)}}_square(t,e,i){this.context.strokeStyle=this.color,this.context.rect(t,e,i,i)}_squareLine(t,e,i){this.context.strokeStyle=this.color,this.context.rect(t,e,i,i),this.context.stroke(),this.context.lineWidth=this.symbolWidth,this.context.beginPath(),this.context.moveTo(t+i/2,e),this.context.lineTo(t+i/2,e+i)}_squarePoint(t,e,i){this.context.strokeStyle=this.color,this.context.rect(t,e,i,i);const s=t+i/2-this.symbolWidth/2-2,o=e+i/2-this.symbolWidth/2-2;this.context.fillStyle=this.color,this.context.fillRect(s,o,this.symbolWidth+4,this.symbolWidth+4)}_fillSquare(t,e,i){this.context.fillStyle=this.color,this.context.fillRect(t,e,i,i)}_circle(t,e,i){const s=i/2,o=i/2,h=i/2;this.context.strokeStyle=this.color,this.context.beginPath(),this.context.arc(t+o,e+h,s,0,2*Math.PI),this.context.stroke()}_circleLine(t,e,i){const s=i/2,o=i/2,h=i/2;this.context.strokeStyle=this.color,this.context.beginPath(),this.context.arc(t+o,e+h,s,0,2*Math.PI),this.context.stroke(),this.context.beginPath(),this.context.moveTo(t+i/2,e),this.context.lineTo(t+i/2,e+i)}_fillCircle(t,e,i){this._circle(t,e,i),this.context.fillStyle=this.color,this.context.fill()}_circlePoint(t,e,i){this._circle(t,e,i);const s=t+i/2-this.symbolWidth/2,o=e+i/2-this.symbolWidth/2;this._circle(s,o,this.symbolWidth),this.context.fillStyle=this.color,this.context.fill()}_triangle(t,e,i){const s=i/2,o=i/2;this.context.beginPath(),this.context.moveTo(t+s,e),this.context.lineTo(t+2*s,e+2*o),this.context.lineTo(t,e+2*o),this.context.closePath(),this.context.strokeStyle=this.color,this.context.stroke()}_triangleLine(t,e,i){const s=i/2,o=i/2;this.context.beginPath(),this.context.moveTo(t+s,e),this.context.lineTo(t+2*s,e+2*o),this.context.lineTo(t,e+2*o),this.context.closePath(),this.context.strokeStyle=this.color,this.context.stroke(),this.context.beginPath(),this.context.moveTo(t+i/2,e),this.context.lineTo(t+i/2,e+i)}_fillTriangle(t,e,i){this._triangle(t,e,i),this.context.fillStyle=this.color,this.context.fill()}_trianglePoint(t,e,i){this._triangle(t,e,i);const s=t+i/2-this.symbolWidth/2,o=e+i/1.5-this.symbolWidth/2;this._triangle(s,o,this.symbolWidth),this.context.fillStyle=this.color,this.context.fill()}_line(t,e,i){this.context.lineWidth=this.symbolWidth,this.context.strokeStyle=this.color,this.context.beginPath(),this.context.moveTo(t,e+i/2),this.context.lineTo(t+i,e+i/2)}_cross(t,e,i){this.context.lineWidth=this.symbolWidth+3,this.context.strokeStyle=this.color,this.context.beginPath(),this.context.moveTo(t-this.symbolWidth/2,e+i/2),this.context.lineTo(t+this.symbolWidth/2+i,e+i/2),this.context.moveTo(t+i/2,e-this.symbolWidth/2),this.context.lineTo(t+i/2,e+this.symbolWidth/2+i)}_drawSymbol(t,e,i,s){if(t+=this.marginY-this.height/2,e+=this.marginX-this.height/2,"0"===s)this._line(t,e,i);else switch(this.symbols){case"squares":"1"===s?this._square(t,e,i):"2"===s?this._fillSquare(t,e,i):"3"===s?this._squareLine(t,e,i):"4"===s&&this._squarePoint(t,e,i);break;case"triangles":"1"===s?this._triangle(t,e,i):"2"===s?this._fillTriangle(t,e,i):"3"===s?this._triangleLine(t,e,i):"4"===s&&this._trianglePoint(t,e,i);break;case"circles":"1"===s?this._circle(t,e,i):"2"===s?this._fillCircle(t,e,i):"3"===s?this._circleLine(t,e,i):"4"===s&&this._circlePoint(t,e,i)}this.previousX=t,this.previousY=e}_circleX(t,e){return e*Math.cos(Math.PI*t/180)}_circleY(t,e){return e*Math.sin(Math.PI*t/180)}_outlineCircle(t){const e=this.symbolMargin,i=t.length+1,s=360/i;let o=0;for(var h=0;h<i;h++){const i=this._circleX(o,e)+e,n=this._circleY(o,e)+e;this._drawSymbol(i,n,this.symbolHeight||10,t[h]),this.context.stroke(),o+=s}}_outlineTriangle(t){let e=Math.floor(t.length/3)+2,i=0,s=10,o=0,h=0;for(var n=0;n<t.length;n++)0===h?i+=this.symbolMargin:1===h?(s+=this.symbolMargin,i-=this.symbolMargin/2):(s-=this.symbolMargin,i-=this.symbolMargin/2),++o!==e?(this._drawSymbol(i,s,this.symbolHeight||10,t[n]),this.context.stroke()):(o=0,h++,n--)}_squareHeight(t){const e=this.height/t;return e-e/1.6}_outlineSquare(t){let e=Math.floor(t.length/4)+1;const i=this.symbolHeight||Math.floor(this._squareHeight(e));let s=0,o=10,h=0,n=0;for(var r=0;r<t.length;r++)0===n?s+=this.symbolMargin:1===n?o+=this.symbolMargin:2===n?s-=this.symbolMargin:o-=this.symbolMargin,this._drawSymbol(s,o,i,t[r]),this.context.stroke(),++h===e&&(h=0,n++)}}}]);