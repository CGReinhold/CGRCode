const { CGRCode } = require('../src/CGRCode');

test('converts text to number', () => {
  const cgrcode = new CGRCode({ urlShortener: 'https://cgreinhold.com' });
  expect(cgrcode._textToNumber('CGRCode')).toBe('401020020020213223312213121032033');
  expect(cgrcode._textToNumber('123')).toBe('400010101010101010101010101020310');
  expect(cgrcode._textToNumber('654624231')).toBe('400010101010101131211130311031002');
  expect(cgrcode._textToNumber('12342134123432143432')).toBe('4000203101103021011020310111003021110111003');
  expect(cgrcode._textToNumber('test')).toBe('401020020020020020020132033131132');
  expect(cgrcode._textToNumber('teste123SD')).toBe('401132033131132033001002003313220');
  expect(cgrcode._textToNumber('http://localhost/test')).toBe('411112121031023112102121131132333132033131132');
  expect(cgrcode._textToNumber(':)')).toBe('40200232002320032200221');
  expect(cgrcode._textToNumber('teste+::>')).toBe('40200131000121100130300131000121100223003220032200332');
  expect(cgrcode._textToNumber('http://localhost:3000/#top')).toBe('41200123000123300120300120100123000122000123300130300131000322003030030000300003000023300203001310001233001300');
  expect(cgrcode._textToNumber('http://localhost:3000/first-page')).toBe('41200123000123300120300120100123000122000123300130300131000322003030030000300003000023300121200122100130200130300131000231001300001201001213001211');
  expect(cgrcode._textToNumber('testΔ')).toBe('403001310001211001303001310032110');
  expect(cgrcode._textToNumber('цПіϲое')).toBe('403101012100133101112033302100332100311');
  expect(cgrcode._textToNumber('https://mail.google.com/mail/')).toBe('421113023103112020101121121101112033020031121113333113023103112333');
  expect(cgrcode._textToNumber('https://app.slack.com/client/T0SBCV4LT/C0SCM9SB0')).toBe('421023122122020131112023031111020031121113333031112103033120132333320000313212213322010300320333213000313213301022313212000');
  expect(cgrcode._textToNumber('https://cgreinhold.com/dsdKSJDsh')).toBe('431333032131032233313232220131102');
  expect(cgrcode._textToNumber('https://cgreinhold.com/dsdKSJDsh+test')).toBe('4320023300121000130300121000102300110300102200101000130300122000223001310001211001303001310');
});
